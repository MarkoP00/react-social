import{r as d,j as e,G as h,a as b,l as j,F as p,L as F,f as y}from"./index-ChjP57xw.js";import{G as P,F as N}from"./Footer-Dli4zLto.js";function T(r){let o=!1;const s={...r};return Object.keys(s).forEach(i=>{const{value:n}=s[i];s[i].invalid=!1,s[i].message="",(!n||n.length<5)&&(s[i].invalid=!0,s[i].message="Please, enter at least 5 chars!",o=!0),i==="email"&&!n.includes("@")&&(s[i].invalid=!0,s[i].message="Please, check your email address!",o=!0)}),s.password.value!==s.confirm.value&&(s.password.invalid=!0,s.confirm.invalid=!0,s.password.message="Passwords must match!",s.confirm.message="Passwords must match!",o=!0),{formIsInvalid:o,updatedFormData:s}}function D(){const[r,o]=d.useState(!1),[s,i]=d.useState(),[n,x]=d.useState({title:"",message:""}),v=()=>{o(!r)},m=t=>{f(l=>({...l,[t]:{...l[t],invalid:!1,message:""}}))},[a,f]=d.useState({username:{value:"",invalid:!1,message:""},email:{value:"",invalid:!1,message:""},password:{value:"",invalid:!1,message:""},confirm:{value:"",invalid:!1,message:""}}),c=(t,l)=>{f(u=>({...u,[l]:{...u[l],value:t}}))};async function g(){const{formIsInvalid:t,updatedFormData:l}=T(a);if(f(l),i(!0),t){i(!1);return}const u={username:a.username.value,email:a.email.value,password:a.password.value,profile_picture:"https://static.vecteezy.com/system/resources/previews/011/459/666/original/people-avatar-icon-png.png"};try{await y.post("/social_media/users",u)&&x({title:"Profile succesfully created!",message:"You can now Login to your account"})}catch{x({title:"Something went wrong...",message:"Please try again later!"})}finally{i(!1)}}return e.jsxs(e.Fragment,{children:[n.title&&e.jsx(h,{title:n.title,message:n.message,defaultPopup:!0,onClose:()=>x({title:"",message:""})}),s&&e.jsx(b,{}),e.jsxs("section",{className:"flex flex-col min-h-screen justify-center items-center bg-gray-50 gap-10 max-msm:gap-6",children:[e.jsx("div",{className:"sectionTop text-center ",children:e.jsxs("div",{className:"flex justify-center items-center ",children:[e.jsx("img",{src:j,alt:"Logo",className:"w-40 h-40 mx-auto max-msm:h-24 max-msm:w-24"}),e.jsx("h1",{className:`text-5xl font-bold text-indigo-600 
           pointer-events-none ml-4 max-msm:text-2xl`,children:"VibeChimp"})]})}),e.jsxs("form",{className:"main-content bg-white py-8 px-10 rounded-lg shadow-main-shadow w-96 max-msm:py-4 max-msm:w-[350px] max-vsm:w-[300px]",children:[e.jsx("div",{className:"content-header mb-6 text-center",children:e.jsx("h3",{className:"text-3xl font-bold text-indigo-600 pointer-events-none max-msm:text-2xl ",children:"Create Account"})}),e.jsx(p,{labelText:"Username",inputType:"text",inputFor:"username",inputValue:a.username.value,invalid:a.username.invalid,invalidMessage:a.username.message,onReset:()=>m("username"),onEvent:t=>c(t,"username")}),e.jsx(p,{labelText:"Email",inputType:"email",inputFor:"email",invalid:a.email.invalid,inputValue:a.email.value,invalidMessage:a.email.message,onReset:()=>m("email"),onEvent:t=>c(t,"email")}),e.jsx(p,{labelText:"Password",inputType:"password",inputFor:"password",inputValue:a.password.value,invalid:a.password.invalid,invalidMessage:a.password.message,isPasswordVisible:r,togglePasswordVisibility:v,onReset:()=>m("password"),onEvent:t=>c(t,"password")}),e.jsx(p,{labelText:"Confirm password",inputType:"password",inputFor:"confirm",inputValue:a.confirm.value,isPasswordVisible:r,invalid:a.confirm.invalid,invalidMessage:a.confirm.message,togglePasswordVisibility:v,onReset:()=>m("confirm"),onEvent:t=>c(t,"confirm")}),e.jsx("div",{className:"form-button mb-6",children:e.jsx(P,{buttonText:"Submit",onEvent:g})}),e.jsxs("div",{className:"form-bottom flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-700",children:"Have an Account?"}),e.jsx(F,{to:"/login",className:"text-textColors-100 font-[600]",children:"Login instead"})]})]}),e.jsx(N,{})]})]})}export{D as default};
